import React, { useState, ChangeEvent, FormEvent } from 'react';
import './App.css';

const App: React.FC = () => {
  const [messages, setMessages] = useState<{ sender: string, text: string }[]>([]);
  const [input, setInput] = useState('');

  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {
    setInput(event.target.value);
  };

  const handleSubmit = (event: FormEvent) => {
    event.preventDefault();
    if (input.trim()) {
      const newMessage = { sender: 'User', text: input };
      setMessages([...messages, newMessage, { sender: 'Bot', text: input }]);
      console.log([...messages, newMessage, { sender: 'Bot', text: input }]);
      setInput('');
    }
  };

  return (
      <div className="App">
        <div className="chat-container">
          <div className="messages">
            {messages.map((msg, index) => (
                <div key={index} className={msg.sender === 'User' ? 'message user' : 'message bot'}>
                  <strong>{msg.sender}: </strong>
                  <br/>
                  {msg.text}
                </div>
            ))}
          </div>
          <form className="chat-form" onSubmit={handleSubmit}>
            <input
                type="text"
                value={input}
                onChange={handleChange}
                placeholder="Type your message..."
            />
            <button type="submit">Send</button>
          </form>
        </div>
      </div>
  );
}

export default App;